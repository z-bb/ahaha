# Java内存区域

### Java虚拟机运行时数据区域被分为五个区域

1. 方法区，用于存放类结构信息，包括常量池、静态变量、构造函数等

2. `java`堆，存储`java`实例和对象的地方，也是`gc`的主要区域

3. `java`栈，Java栈总是和线程关联在一起，每当创建一个线程，`jvm`就会为这个线程创建一个对应的`Java stack`。在这个`Java`栈中又包含了多各栈帧，每运行一个方法就创建一个栈帧，用于存储局部变量表、操作栈、方法返回值等。每一个方法从调用直至执行完成的过程，就对应一个栈帧入栈和出栈的过程。所以Java栈时线程私有的

4. 程序计数器 用于保存当前线程执行的内存地址。由于`jvm`程序是多线程的，线程轮流切换，所以为了保证线程切换回来后，还能恢复原先状态，就需要一个独立的计数器，记录之前中断的地方，程序计数器也是线程私有的

5. 本地方法栈和`java`栈的作用差不多，只不过是为`jvm`使用到的`native`方法服务的

   ​       图一.jvm内存模型

   ![jvm-memory-model](https://upload-images.jianshu.io/upload_images/4003106-676a329d7f4bbe86.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



# 总结

#### 线程私有的数据区域

1. Java虚拟栈
2. 本地方法栈

#### 线程共享的数据区域

1. 堆
2. 方法区 